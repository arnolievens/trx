.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "TRX" "1" "May 2021" "trx 1.0" ""
.hy
.SH NAME
.PP
trx command-line serial transmit-receive utility
.SH SYNOPSIS
.PP
\f[B]trx\f[R] [options] [file|baudrate|timeout|count] [cmd1] \&...
.SH DESCRIPTION
.PP
Trx is a command-line utiliy that allows to simultaneously transmit and
receive data to a serial device You can specify the number of expected
lines \f[B](-n)\f[R] or use the timeout \f[B](-t)\f[R] to detect the end
of transmission. Device configuration is setup by means of options flags
\f[B](-pbnt)\f[R] or read from a device config file \f[B](-d)\f[R]
Multiple commands can be given in the command arguments or
alternatively, a file can be specified (\f[B]-i\f[R]) When an input file
is provided as wel as one or more argument commands, the latter will be
sent prior to reading the input file The device config or command file
may be either an absolue path or a file with respectively
\[lq].conf\[rq] and \[lq].cmd\[rq] extensions in one of the following
directories: \[lq]\[ti]/.trx\[rq], \[lq]\[ti]/.config/trx\[rq] or
\[lq]/etc/trx/\[rq]
.PD 0
.P
.PD
Command-line options override settings in the config file.
.SH OPTIONS
.SS General
.TP
\f[B]-i\f[R], \f[B]--input\f[R] \f[B]<filename>\f[R]
read commands from file, line-by-line
.TP
\f[B]-o\f[R], \f[B]--output\f[R] \f[B]<filename>\f[R]
write response to file instead of stdout TODO: not yet implemented
.TP
\f[B]-v\f[R], \f[B]--verbose\f[R]
verbose output, returns info about serial port and general config
options
.TP
\f[B]-q\f[R], \f[B]--quiet\f[R]
suppress stdout, does not mute stderr
.TP
\f[B]-h\f[R], \f[B]--help\f[R]
print help menu
.SS Serial device
.TP
\f[B]-b\f[R], \f[B]--baudrate\f[R] \f[B]<baudrate>\f[R]
port baudrate setting - must be a typical baudrate value - eg 9600,
19200, \&...
.TP
\f[B]-p\f[R], \f[B]--port\f[R] \f[B]<port-name>\f[R]
port device file name - eg /dev/ttyS0
.TP
\f[B]-t\f[R], \f[B]--timeout\f[R] \f[B]<timeout>\f[R]
receiver will wait <\[en]timeout> msec for new input unless <\[en]count>
has been reached
.TP
\f[B]-n\f[R], \f[B]--count\f[R] \f[B]<count>\f[R]
max number of lines to be read per command
.TP
\f[B]-d\f[R], \f[B]--device\f[R] \f[B]<filename>\f[R]
device config file, absolute path or the name of a unique file in
$XDG_CONFIG_HOME $HOME/.trx or /etc/trx
.SH EXAMPLES
.TP
\f[B]trx -d someDevice \[en]timeout 0.2 -n 1 \[dq]some command\[dq]\[dq]\f[R]
use \[dq]someDevice\[dq] config file in eg /etc/trx, set timeout to
200ms, read one line after sending \[lq]some command\[rq] and do not
wait any longer
.TP
\f[B]trx -p /dev/ttyS0 -i transmit.txt -q\f[R]
use device ttyS0 and read commands from ./transmit.txt, don\[cq]t print
output
.TP
\f[B]trx -d ./dev.conf \[dq]cmd1\[dq] \[dq]cmd2\[dq]\f[R]
use \[dq]dev.conf\[dq] device config file and send two commands
.SH EXIT VALUES
.TP
\f[B]0\f[R]
Succes, data was successfully transmitted - even if receive timed-out
.TP
\f[B]1\f[R]
Fail, invalid options, connection was not established or aborted
.SH BUGS
.PP
plenty
.SH COPYRIGHT
.PP
Copyright \[co] 2021 Arno Lievens.
License GPLv3+: GNU GPL version 3 or later
<https://gnu.org/licenses/gpl.html>. This is free software: you are free
to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
.SH AUTHORS
Arno Lievens.
